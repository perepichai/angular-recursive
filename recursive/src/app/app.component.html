<ul class="list">
    <li class="list-item" *ngFor="let item of items" (click)="onClick($event, item)">
        {{item.name}}
        <ng-container *ngIf="item.children.length">
            <ng-container *ngTemplateOutlet="InnerList; context:{$implicit: item.children}">
            </ng-container>
        </ng-container>
    </li>
</ul>

<ng-template #InnerList let-children>
    <ul class="inner-list">
        <li class="inner-list-item" *ngFor="let child of children" (click)="onClick($event, child)">
            {{child.name}}
            <ng-container *ngIf="child.children.length">
                <ng-container *ngTemplateOutlet="InnerList; context:{$implicit: child.children}">
                </ng-container>
            </ng-container>
        </li>
    </ul>
</ng-template>